
<!DOCTYPE html>
<html lang class="loading">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>计算机网络基础 - Eric&#39;s Blog</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate">
    <meta name="keywords" content="Eric,"> 
    <meta name="description" content="Eric&#39;s Blog,最近再次看了一下计算机网络的内容，记录一下大概内容
1. 概述1.1 计算机网络分为边缘部分和核心部分：
边缘部分是连接到网络上的各个主机；
核心部分是所有路由器及所连接的网络。

1.2 计算机网,"> 
    <meta name="author" content="Eric Wei"> 
    <link rel="alternative" href="atom.xml" title="Eric&#39;s Blog" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <link rel="stylesheet" href="/css/diaspora.css">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-8691406134231910",
              enable_page_level_ads: true
         });
    </script>
    <script async custom-element="amp-auto-ads" src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
</head>
</html>
<body class="loading">
    <span id="config-title" style="display:none">Eric&#39;s Blog</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="icon-home image-icon" href="javascript:;" data-url="http://yoursite.com"></a>
    <div title="播放/暂停" class="icon-play"></div>
    <h3 class="subtitle">计算机网络基础</h3>
    <div class="social">
        <!--<div class="like-icon">-->
            <!--<a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
        <!--</div>-->
        <div>
            <div class="share">
                <a title="获取二维码" class="icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class="main">
        <h1 class="title">计算机网络基础</h1>
        <div class="stuff">
            <span>十月 06, 2019</span>
            
  <ul class="post-tags-list"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/网络/">网络</a></li><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/读书笔记/">读书笔记</a></li></ul>


        </div>
        <div class="content markdown">
            <p>最近再次看了一下计算机网络的内容，记录一下大概内容</p>
<h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h2><h4 id="1-1-计算机网络分为边缘部分和核心部分："><a href="#1-1-计算机网络分为边缘部分和核心部分：" class="headerlink" title="1.1 计算机网络分为边缘部分和核心部分："></a>1.1 计算机网络分为边缘部分和核心部分：</h4><ul>
<li>边缘部分是连接到网络上的各个主机；</li>
<li>核心部分是所有路由器及所连接的网络。</li>
</ul>
<h4 id="1-2-计算机网络三种分层结构"><a href="#1-2-计算机网络三种分层结构" class="headerlink" title="1.2 计算机网络三种分层结构"></a>1.2 计算机网络三种分层结构</h4><ol>
<li><p>七层网络层次结构</p>
<ul>
<li>应用层</li>
<li>表示层</li>
<li>会话层</li>
<li>运输层</li>
<li>网络层</li>
<li>数据链路层</li>
<li>物理层</li>
</ul>
</li>
<li><p>五层网络层次结构</p>
<ul>
<li>应用层</li>
<li>运输层</li>
<li>网络层</li>
<li>数据链路层</li>
<li>物理层   </li>
</ul>
</li>
<li>四层网络层次结构<ul>
<li>应用层</li>
<li>运输层</li>
<li>网络层</li>
<li>网络接口层<h4 id="1-3-计算机网络的性能指标"><a href="#1-3-计算机网络的性能指标" class="headerlink" title="1.3 计算机网络的性能指标"></a>1.3 计算机网络的性能指标</h4></li>
</ul>
</li>
<li>速率</li>
<li>带宽</li>
<li>吞吐量</li>
<li>时延，时延分为以下几种类型<ul>
<li>发送时延：主机或路由器发送帧数据所需要的时间</li>
<li>传播时延：电磁波在信道中传播一定的距离需要花费的时间</li>
<li>处理时延：主机或路由器在收到分组后处理这些数据所需的时间</li>
<li>排队时延：分组在路由器的队列中等待所花费的时间</li>
</ul>
</li>
<li>时延带宽积</li>
<li>往返时间RTT</li>
<li>利用率</li>
</ol>
<h2 id="2-物理层"><a href="#2-物理层" class="headerlink" title="2. 物理层"></a>2. 物理层</h2><h4 id="2-1-基本概念"><a href="#2-1-基本概念" class="headerlink" title="2.1 基本概念"></a>2.1 基本概念</h4><ul>
<li><strong>模拟信号</strong>或连续信号，消息参数的取值是连续的。</li>
<li><strong>数字信号</strong>或离散信号，消息参数的取值是离散的。</li>
<li><strong>单向通信</strong>又称<strong>单工通信</strong>，只能有一个方向的通信而没有反方向的交互</li>
<li><strong>双向交替通信</strong>又称<strong>半双工通信</strong>，通信的双方都可以发送信息，但是不能同时发送</li>
<li><strong>双向同时通信</strong>又称<strong>全双工通信</strong>，通信的双方可以同时发送和接收信息</li>
<li><strong>ADSL</strong>非对称数字用户线，是对现有的模拟电话用户线进行的改造，因其上行带宽远远小于下行带宽，即<strong>非对称</strong></li>
</ul>
<h2 id="3-数据链路层"><a href="#3-数据链路层" class="headerlink" title="3. 数据链路层"></a>3. 数据链路层</h2><h4 id="3-1-数据链路层信道类型"><a href="#3-1-数据链路层信道类型" class="headerlink" title="3.1 数据链路层信道类型"></a>3.1 数据链路层信道类型</h4><ol>
<li>点对点信道，这种信道使用一对一的点对点通信方式</li>
<li>广播信道，这种信道使用一对多的广播通信方式</li>
</ol>
<h4 id="3-2-点对点信道"><a href="#3-2-点对点信道" class="headerlink" title="3.2 点对点信道"></a>3.2 点对点信道</h4><ol>
<li>数据链路层的数据单元被称为<strong>帧</strong>。</li>
<li>数据链路层的三个基本问题：<ul>
<li>封装成帧，每一种链路层协议都规定了所能传送的帧的数据部分长度的长限–最大传送单元<strong>MTU</strong></li>
<li>透明传输</li>
<li>差错检测，数据链路层采用了循环冗余检验<strong>CRC</strong>，检验的是比特差错，并不保证可靠传输。</li>
</ul>
</li>
</ol>
<h4 id="3-3-点对点协议PPP"><a href="#3-3-点对点协议PPP" class="headerlink" title="3.3 点对点协议PPP"></a>3.3 点对点协议PPP</h4><h4 id="3-4-广播信道"><a href="#3-4-广播信道" class="headerlink" title="3.4 广播信道"></a>3.4 广播信道</h4><ol>
<li>局域网的数据链路层<br>局域网：网络为一个单位所拥有，且地理范围和站点数目均有限</li>
<li>局域网按拓扑结构进行分类：<ul>
<li>星形网，集线器(HUB)</li>
<li>环形网</li>
<li>总线网    </li>
</ul>
</li>
<li>以太网<br>以太网的MTC为1500字节，采用载波监听多点接入/碰撞检测的方法来协调各主机的发送信息，因为总线上只要有一台计算机在发送数据，总线的传输资源就被占用，因此在同一时刻只允许一台计算机发送数据。以太交换换机不使用共享总线，因此不需要进行碰撞检测。</li>
</ol>
<h2 id="4-网络层"><a href="#4-网络层" class="headerlink" title="4. 网络层"></a>4. 网络层</h2><h4 id="4-1-网络层提供的服务"><a href="#4-1-网络层提供的服务" class="headerlink" title="4.1 网络层提供的服务"></a>4.1 网络层提供的服务</h4><ol>
<li>面向连接的可靠传输</li>
<li>面向无连接的不可靠传输，尽最大努力交付</li>
<li>网络层提供数据报服务，发送的数据称为数据报、包或者分组。</li>
</ol>
<h4 id="4-2-网络层的主要协议"><a href="#4-2-网络层的主要协议" class="headerlink" title="4.2 网络层的主要协议"></a>4.2 网络层的主要协议</h4><ol>
<li><strong>ARP</strong>地址解析协议，把IP地址转为物理地址Mac地址</li>
<li><strong>ICMP</strong>网际控制报文协议，当网络层发生错误时，会通过ICMP协议进行通知</li>
<li><strong>IGMP</strong>网络组管理协议，用于广播通信</li>
<li><strong>IP</strong>封装上层传递下来的数据，屏蔽下层差异</li>
</ol>
<h4 id="4-3-IP分类"><a href="#4-3-IP分类" class="headerlink" title="4.3 IP分类"></a>4.3 IP分类</h4><h5 id="4-3-1-IP的编址方法"><a href="#4-3-1-IP的编址方法" class="headerlink" title="4.3.1 IP的编址方法"></a>4.3.1 IP的编址方法</h5><ol>
<li>分类IP</li>
</ol>
<table>
<thead>
<tr>
<th>类别</th>
<th>标识</th>
<th>网络号字节</th>
<th>主机号字节</th>
<th>网络号范围</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>0</td>
<td>1</td>
<td>3</td>
<td>1.0.0.0 ~ 126.255.255.255</td>
</tr>
<tr>
<td>B</td>
<td>10</td>
<td>2</td>
<td>2</td>
<td>128.0.0.0 ~ 191.255.255.255</td>
</tr>
<tr>
<td>C</td>
<td>110</td>
<td>3</td>
<td>1</td>
<td>192.0.0.0 ~ 223.255.255.255</td>
</tr>
<tr>
<td>D</td>
<td>1110</td>
<td>多播地址</td>
</tr>
<tr>
<td>E</td>
<td>1111</td>
<td>保留</td>
</tr>
</tbody>
</table>
<p>以下三个范围类的地址作为私有地址保留：</p>
<ul>
<li>A类保留地址 10.0.0.0 - 10.255.255.255</li>
<li>B类保留地址 172.16.0.0 - 172.31.255.255</li>
<li>C类保留地址 192.168.0.0 - 192.168.255.255</li>
</ul>
<ol start="2">
<li>划分子网<br>此时一个完整的IP地址由网络号、子网号和主机号组成，通过子网掩码能获取子网号。子网增加了灵活性，但是减少了可以接在网络上的主机总数。</li>
<li><p>构成超网（<strong>CIDR</strong>）<br>构成超网是一种无分类的编址方法,它消除了IP分类及子网的概念，此时IP地址由网络前缀加上主机号组成。匹配时采用最长前缀匹配。</p>
<h4 id="4-4-IP协议"><a href="#4-4-IP协议" class="headerlink" title="4.4 IP协议"></a>4.4 IP协议</h4></li>
<li><p>IP数据报首部格式：20字节固定长度加上可选部分，最长是60字节</p>
</li>
<li>IP首部检验和只包含首部字段，并不包含数据部份</li>
<li>路由器路由表中的主要信息：<ul>
<li>目的网络地址</li>
<li>下一跳地址</li>
<li>子网掩码</li>
</ul>
</li>
<li>路由器的两个作用：<ul>
<li>路由选择</li>
<li>分组转发</li>
</ul>
</li>
</ol>
<p><strong>注：下一跳地址并不放在IP数据报中，而是在数据链路层通过ARP转成硬件地址后，放在MAC帧中</strong></p>
<h4 id="4-5-ICMP"><a href="#4-5-ICMP" class="headerlink" title="4.5 ICMP"></a>4.5 ICMP</h4><ol>
<li><strong>ICMP</strong>在两种情况下会发送报文，分别是IP数据报出现差错和出现异常时，会发两种报文，一类是差错报告报文，另一种是询问报文。 </li>
<li>ICMP是网络层协议，可以由应用层直接使用，比如<strong>PING</strong>命令就直接使用了网络层，并没有通过运输层。</li>
</ol>
<h2 id="5-运输层"><a href="#5-运输层" class="headerlink" title="5. 运输层"></a>5. 运输层</h2><h4 id="5-1-运输层通信与网络层的区别"><a href="#5-1-运输层通信与网络层的区别" class="headerlink" title="5.1 运输层通信与网络层的区别"></a>5.1 运输层通信与网络层的区别</h4><ol>
<li>网络层通信是主机间通信，运输层通信是进程间通信</li>
<li><p>差错检验，IP协议只检测首部，而TCP/UDP会检验首部加数据部分</p>
<h4 id="5-2-运输层主要协议"><a href="#5-2-运输层主要协议" class="headerlink" title="5.2 运输层主要协议"></a>5.2 运输层主要协议</h4></li>
<li><p><strong>TCP</strong>传输控制协议，面向连接，可靠交付，全双工通信，面向字节流。每一条TCP连接被通信两端的两个端点（即两个套接字，IP地址：端口号）唯一确定。FTP,HTTP,TELNET都使用了TCP协议</p>
</li>
<li><strong>UDP</strong>用户数据报协议，它是一种无连接，尽最大努力交付且没有拥塞控制的协议</li>
<li>端口：</li>
</ol>
<ul>
<li>服务端使用的端口：熟知端口（0 ~ 1023），登记端口（1024 ~ 49151）</li>
<li>客户端端口：49152 ~ 65535    </li>
</ul>
<h4 id="5-3-TCP可靠传输"><a href="#5-3-TCP可靠传输" class="headerlink" title="5.3 TCP可靠传输"></a>5.3 TCP可靠传输</h4><h5 id="5-3-1-停止等待协议"><a href="#5-3-1-停止等待协议" class="headerlink" title="5.3.1 停止等待协议"></a>5.3.1 停止等待协议</h5><ol>
<li>停止等待协议在通信出现差错时会超时重传，并重置超时定时器，但是它的信道利用率很低，而流水线传输能提高信道利用率。</li>
<li>流水线传输会用到<strong>滑动窗口协议</strong></li>
<li><p>发送方会维持一个发送窗口，收到一个确认后，发送窗口会向前滑动一个分组的位置，接收方可以进行累积确认</p>
<h5 id="5-3-2-TCP首部格式"><a href="#5-3-2-TCP首部格式" class="headerlink" title="5.3.2 TCP首部格式"></a>5.3.2 TCP首部格式</h5></li>
<li><p>源端口和目的端口占16位</p>
</li>
<li>序号：报文段的序号</li>
<li>确认号：期望收到对方下一个报文段的第一个数据字节的序号</li>
<li><p>TCP有一个最大报文段长度<strong>MSS</strong>，它只是数据字段的最大长度，默认是536字节</p>
<h5 id="5-3-3-可靠传输的实现"><a href="#5-3-3-可靠传输的实现" class="headerlink" title="5.3.3 可靠传输的实现"></a>5.3.3 可靠传输的实现</h5></li>
<li><p>发送方维持一个发送窗口，接收方维持一个接收窗口，发送窗口的大小由接收方指定</p>
</li>
<li>超时重传时间的选择采一自适应算法：报文段有一个往返时间<strong>RTT</strong>，给往返时间进行加权平均的值称为<strong>RTTs</strong>，超时重传时间需要略大于<strong>RTTs</strong></li>
</ol>
<h4 id="5-4-TCP流量控制"><a href="#5-4-TCP流量控制" class="headerlink" title="5.4 TCP流量控制"></a>5.4 TCP流量控制</h4><p>采用滑动窗口进行流量控制</p>
<h4 id="5-5-TCP拥塞控制"><a href="#5-5-TCP拥塞控制" class="headerlink" title="5.5 TCP拥塞控制"></a>5.5 TCP拥塞控制</h4><ol>
<li>四种拥塞控制算法，发送方会维持一个拥塞窗口cwnd，还会设置一个慢开始门限ssthresh</li>
</ol>
<ul>
<li>慢开始，当cwnd &lt; ssthresh时采用慢开始</li>
<li>拥塞避免，当cwnd &gt; ssthresh时采用拥塞避免</li>
<li>快重传，当发送方收到3个重复确认时，可以认为发生了丢失，立刻重传丢失和报文段</li>
<li>快恢复，ssthresh设为cwnd的一半，同时设置cwnd=ssthresh。<h4 id="5-6-TCP连接"><a href="#5-6-TCP连接" class="headerlink" title="5.6 TCP连接"></a>5.6 TCP连接</h4><h5 id="5-6-1-三次握手"><a href="#5-6-1-三次握手" class="headerlink" title="5.6.1 三次握手"></a>5.6.1 三次握手</h5></li>
</ul>
<ol>
<li>客户端发送SYN=1，seq=x报文，此时处于SYN-SENT状态</li>
<li>服务端收到后置ACK=1,SYN=1,ack=x+1,seq=y,此时处于SYN-REVD</li>
<li>客户端收到后置ACK=1,ack=y+1,seq=x+1,此时处于ESTABLISHED</li>
</ol>
<h5 id="5-6-2-四次挥手"><a href="#5-6-2-四次挥手" class="headerlink" title="5.6.2 四次挥手"></a>5.6.2 四次挥手</h5><ol>
<li>客户端发送FIN=1,seq=x,此时处于FIN-WAIT-1</li>
<li>服务端收到后置ACK=1,ack=x+1,seq=y,此时处于CLOSE-WAIT，客户端收到后处于FIN-WAIT-2,客户端已没有数据发送，TCP连接处于半关闭状态</li>
<li>服务端发送FIN=1,ACK=1,seq=w,ack=x+1,此时处于LAST-ACK</li>
<li>客户端收到后置ACK=1,ack=w+1,seq=x+1,进行TIME-WAIT状态，等待2MSL(最长报文段寿命)后进入CLOSED状态。</li>
</ol>
<h2 id="6-应用层"><a href="#6-应用层" class="headerlink" title="6. 应用层"></a>6. 应用层</h2><h4 id="6-1-域名系统DNS"><a href="#6-1-域名系统DNS" class="headerlink" title="6.1 域名系统DNS"></a>6.1 域名系统DNS</h4><p>域名服务器分类：</p>
<ol>
<li>根域名服务器，拥有所有顶级域名服务器的地址<ul>
<li>国家顶级域名</li>
<li>通用顶级域名</li>
<li>基础结构域名</li>
</ul>
</li>
<li>顶级域名服务器</li>
<li>权限域名服务器</li>
<li>本地域名服务器</li>
</ol>
<p>域名解析时先到本地域名服务器查询，若没有则到根域名服务器，若没查到根域名服务器会告诉到哪一个域名服务器去查询，以次类推。</p>
<h4 id="6-2-文件传输协议FTP"><a href="#6-2-文件传输协议FTP" class="headerlink" title="6.2 文件传输协议FTP"></a>6.2 文件传输协议FTP</h4><h4 id="6-3-超文本传输协议HTTP"><a href="#6-3-超文本传输协议HTTP" class="headerlink" title="6.3 超文本传输协议HTTP"></a>6.3 超文本传输协议HTTP</h4>
            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src>
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        <li title="0" data-url="http://link.hhtjim.com/163/5146554.mp3"></li>
                    
                        <li title="1" data-url="http://link.hhtjim.com/qq/001faIUs4M2zna.mp3"></li>
                    
                </ul>
            
        </div>
        
    <div id="gitalk-container" class="comment link" data-ae="false" data-ci data-cs data-r data-o data-a data-d="false">查看评论</div>


    </div>
    
</div>


    </div>
</div>
</body>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/diaspora.js"></script>
<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">
<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>




</html>
